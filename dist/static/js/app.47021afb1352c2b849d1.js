webpackJsonp([1],[,function(e,t,s){function i(e){s(5)}var n=s(9)(s(3),s(10),i,null,null);e.exports=n.exports},,function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",computed:{sizes:function(){return{width:document.body.clientWidth,height:document.body.clientHeight-80}}},data:function(){return{showSpeedAnimation:!1,options:{radius:5,time:50,e:.5,length:0},evasion:{x:"",y:"",prevX:"",prevY:"",speed:2},pursuer:{x:"",y:"",speed:3.1},ctx:null,typeRun:"horizontal",typesRun:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"},{label:"random",value:2*Math.PI},{label:"half-plane",value:Math.PI},{label:"PI/2",value:Math.PI/2},{label:"PI/4",value:Math.PI/4},{label:"PI/8",value:Math.PI/8},{label:"PI/24",value:Math.PI/24},{label:"line",value:0}],typeMove:"doggy style",typesMove:["doggy style","smart","coefficient"],coefficient:.4}},methods:{setDot:function(e){if(""===this.evasion.x||""===this.evasion.y)this.evasion.x=e.layerX,this.evasion.y=e.layerY,this.pursuer.x="",this.pursuer.y="",this.ctx.fillStyle="black",this.ctx.beginPath(),this.ctx.ellipse(this.evasion.x,this.evasion.y,this.options.radius,this.options.radius,0,2*Math.PI,!1),this.ctx.fill();else if(""===this.pursuer.x||""===this.pursuer.y){if(this.showSpeedAnimation=!0,this.pursuer.x=e.layerX,this.pursuer.y=e.layerY,this.ctx.fillStyle="orange",this.ctx.beginPath(),this.ctx.ellipse(this.pursuer.x,this.pursuer.y,this.options.radius,this.options.radius,0,2*Math.PI,!1),this.ctx.fill(),this.evasion.speed&&this.pursuer.speed)var t=setInterval(function(){if(this.ctx.strokeStyle="black",this.ctx.beginPath(),this.ctx.moveTo(this.evasion.x,this.evasion.y),"horizontal"===this.typeRun)this.evasion.prevX=this.evasion.x,this.evasion.prevY=this.evasion.y,this.evasion.x+=parseFloat(this.evasion.speed);else if("vertical"===this.typeRun)this.evasion.prevX=this.evasion.x,this.evasion.prevY=this.evasion.y,this.evasion.y+=parseFloat(this.evasion.speed);else{var e=Math.random()*(this.typeRun/2+this.typeRun/2)-this.typeRun/2;""!==this.evasion.prevX&&""!==this.evasion.prevY||(this.evasion.prevX=this.pursuer.x,this.evasion.prevY=this.pursuer.y);var s=[{x:this.evasion.x-this.evasion.prevX,y:this.evasion.y-this.evasion.prevY}],i=0;0===s[0].x?i=s[0].y>0?Math.PI/2:-Math.PI/2:(i=Math.atan(s[0].y/s[0].x),s[0].x<0&&(i+=Math.PI)),this.evasion.prevX=this.evasion.x,this.evasion.prevY=this.evasion.y,this.evasion.x+=Math.cos(e+i)*this.evasion.speed,this.evasion.y+=Math.sin(e+i)*this.evasion.speed}this.ctx.lineTo(this.evasion.x,this.evasion.y),this.ctx.stroke();var n={x:this.evasion.prevX-this.pursuer.x,y:this.evasion.prevY-this.pursuer.y};if(this.ctx.strokeStyle="orange",this.ctx.beginPath(),this.ctx.moveTo(this.pursuer.x,this.pursuer.y),"doggy style"===this.typeMove){var a=Math.sqrt(n.x*n.x+n.y*n.y),r=a/parseFloat(this.pursuer.speed);this.pursuer.x+=n.x/r,this.pursuer.y+=n.y/r}else if("smart"===this.typeMove){var o={x:this.evasion.x-this.evasion.prevX,y:this.evasion.y-this.evasion.prevY},h=[{x:this.evasion.x,y:this.evasion.y},{x:this.pursuer.x+o.x,y:this.pursuer.y+o.y}],u=(h[1].y-h[0].y)/(h[1].x-h[0].x),p=1+u*u,v=-2*this.pursuer.x+2*u*(-u*h[0].x+h[0].y)-2*this.pursuer.y*u,l=this.pursuer.x*this.pursuer.x+Math.pow(h[0].y-u*h[0].x,2)-2*this.pursuer.y*(h[0].y-u*h[0].x)+this.pursuer.y*this.pursuer.y-this.pursuer.speed*this.pursuer.speed,y=v*v-4*p*l,x=[{x:(-v+Math.sqrt(y))/(2*p),y:0},{x:(-v-Math.sqrt(y))/(2*p),y:0}];x[0].y=(h[1].y-h[0].y)*(x[0].x-h[0].x)/(h[1].x-h[0].x)+h[0].y,x[1].y=(h[1].y-h[0].y)*(x[1].x-h[0].x)/(h[1].x-h[0].x)+h[0].y;var c=[Math.sqrt((x[0].x-this.evasion.x)*(x[0].x-this.evasion.x)+(x[0].y-this.evasion.y)*(x[0].y-this.evasion.y)),Math.sqrt((x[1].x-this.evasion.x)*(x[1].x-this.evasion.x)+(x[1].y-this.evasion.y)*(x[1].y-this.evasion.y))];c[0]<c[1]?(this.pursuer.x=x[0].x,this.pursuer.y=x[0].y):(this.pursuer.x=x[1].x,this.pursuer.y=x[1].y)}else{var d={x:this.evasion.x-this.evasion.prevX,y:this.evasion.y-this.evasion.prevY},m=[{x:this.evasion.x,y:this.evasion.y},{x:this.pursuer.x+d.x,y:this.pursuer.y+d.y}],f=(m[1].y-m[0].y)/(m[1].x-m[0].x),g=1+f*f,M=-2*this.pursuer.x+2*f*(-f*m[0].x+m[0].y)-2*this.pursuer.y*f,b=this.pursuer.x*this.pursuer.x+Math.pow(m[0].y-f*m[0].x,2)-2*this.pursuer.y*(m[0].y-f*m[0].x)+this.pursuer.y*this.pursuer.y-this.pursuer.speed*this.pursuer.speed,P=M*M-4*g*b,_=[{x:(-M+Math.sqrt(P))/(2*g),y:0},{x:(-M-Math.sqrt(P))/(2*g),y:0}];_[0].y=(m[1].y-m[0].y)*(_[0].x-m[0].x)/(m[1].x-m[0].x)+m[0].y,_[1].y=(m[1].y-m[0].y)*(_[1].x-m[0].x)/(m[1].x-m[0].x)+m[0].y;var w=[Math.sqrt((_[0].x-this.evasion.x)*(_[0].x-this.evasion.x)+(_[0].y-this.evasion.y)*(_[0].y-this.evasion.y)),Math.sqrt((_[1].x-this.evasion.x)*(_[1].x-this.evasion.x)+(_[1].y-this.evasion.y)*(_[1].y-this.evasion.y))],I=Math.sqrt(n.x*n.x+n.y*n.y),R=I/parseFloat(this.pursuer.speed),S=[{x:n.x/R,y:n.y/R},{x:0,y:0}];w[0]<w[1]?(S[1].x=_[0].x-this.pursuer.x,S[1].y=_[0].y-this.pursuer.y):(S[1].x=_[1].x-this.pursuer.x,S[1].y=_[1].y-this.pursuer.y);var X=0;0===S[0].x?X=S[0].y>0?Math.PI/2:-Math.PI/2:(X=Math.atan(S[0].y/S[0].x),S[0].x<0&&(X+=Math.PI));var Y=(S[0].x*S[1].x+S[0].y*S[1].y)/Math.sqrt(S[0].x*S[0].x+S[0].y*S[0].y)/Math.sqrt(S[1].x*S[1].x+S[1].y*S[1].y),q=Math.acos(Y),z=this.coefficient*q;this.pursuer.x+=Math.cos(z+X)*this.pursuer.speed,this.pursuer.y+=Math.sin(z+X)*this.pursuer.speed}this.ctx.lineTo(this.pursuer.x,this.pursuer.y),this.ctx.stroke(),Math.abs(this.pursuer.x-this.evasion.x)<this.options.e&&Math.abs(this.pursuer.y-this.evasion.y)<this.options.e&&(clearInterval(t),this.showSpeedAnimation=!1,alert("Його спіймали!")),(this.evasion.x>this.sizes.width+this.options.length||this.evasion.x<-this.options.length||this.evasion.y>this.sizes.height+this.options.length||this.evasion.y<-this.options.length)&&(clearInterval(t),this.showSpeedAnimation=!1,""===this.evasion.x?alert("Їх вкрали інопланетяни!"):alert("Він втік!"))}.bind(this),1e3/this.options.time)}else this.showSpeedAnimation=!1,this.pursuer.x="",this.pursuer.y="",this.evasion.x="",this.evasion.y="",this.evasion.prevX="",this.evasion.prevY="",this.ctx.clearRect(0,0,this.sizes.width,this.sizes.height)}},mounted:function(){this.ctx=this.$refs.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.strokeStyle="black",this.ctx.font="20px Georgia"}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(2),n=s(1),a=s.n(n);i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:a.a}})},function(e,t){},,,,,function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"head"},[s("label",[e._v("\n      Speed animation\n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.options.time,expression:"options.time"}],attrs:{disabled:e.showSpeedAnimation,min:"0",minlength:"1",type:"number",step:"1"},domProps:{value:e.options.time},on:{input:function(t){t.target.composing||e.$set(e.options,"time",t.target.value)}}})]),e._v(" "),s("label",[e._v("\n      Length\n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.options.length,expression:"options.length"}],attrs:{type:"number",min:"0",minlength:"1",step:"1"},domProps:{value:e.options.length},on:{input:function(t){t.target.composing||e.$set(e.options,"length",t.target.value)}}})]),e._v(" "),s("label",[e._v("\n      Evasion\n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.evasion.speed,expression:"evasion.speed"}],attrs:{type:"number",min:"0",minlength:"1",step:"0.1"},domProps:{value:e.evasion.speed},on:{input:function(t){t.target.composing||e.$set(e.evasion,"speed",t.target.value)}}})]),e._v(" "),s("label",[e._v("\n      Pursuer\n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pursuer.speed,expression:"pursuer.speed"}],attrs:{type:"number",min:"0",minlength:"1",step:"0.1"},domProps:{value:e.pursuer.speed},on:{input:function(t){t.target.composing||e.$set(e.pursuer,"speed",t.target.value)}}})]),e._v(" "),s("label",[e._v("\n      Type of run\n      "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.typeRun,expression:"typeRun"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.typeRun=t.target.multiple?s:s[0]}}},e._l(e.typesRun,function(t){return s("option",{domProps:{value:t.value}},[e._v(e._s(t.label))])}))]),e._v(" "),s("label",[e._v("\n      Type of move\n      "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.typeMove,expression:"typeMove"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.typeMove=t.target.multiple?s:s[0]}}},e._l(e.typesMove,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),e._v(" "),"coefficient"===e.typeMove?s("label",[e._v("\n      Coefficient\n      "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.coefficient,expression:"coefficient"}],attrs:{type:"number",min:"0",max:"1",minlength:"1",step:"0.05"},domProps:{value:e.coefficient},on:{input:function(t){t.target.composing||(e.coefficient=t.target.value)}}})]):e._e()]),e._v(" "),s("canvas",{ref:"canvas",attrs:{width:e.sizes.width,height:e.sizes.height},on:{mousedown:e.setDot}})])},staticRenderFns:[]}}],[4]);
//# sourceMappingURL=app.47021afb1352c2b849d1.js.map